<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>Enhanced C#: Loyc.Collections.ICharSource Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Enhanced C#
   </div>
   <div id="projectbrief">Language of your choice: library documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceLoyc.html">Loyc</a></li><li class="navelem"><a class="el" href="namespaceLoyc_1_1Collections.html">Collections</a></li><li class="navelem"><a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html">ICharSource</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interfaceLoyc_1_1Collections_1_1ICharSource-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Loyc.Collections.ICharSource Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A read-only list of characters plus a <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a3b9800219b8e6e1e4ac0594cd8d09b64" title="Returns a substring from the character source. If some of the requested characters are past the end o...">Slice(int,int)</a> method.  
 <a href="interfaceLoyc_1_1Collections_1_1ICharSource.html#details">More...</a></p>
<hr/><b>Source file</b>:<ul>
<li><a href='https://github.com/qwertie/ecsharp/tree/master/Core/Loyc.Interfaces/Collections/ICharSource.cs'>/Core/Loyc.Interfaces/Collections/ICharSource.cs</a></li>
</ul>
<div class="dynheader">
Inheritance diagram for Loyc.Collections.ICharSource:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interfaceLoyc_1_1Collections_1_1ICharSource.png" usemap="#Loyc.Collections.ICharSource_map" alt=""/>
  <map id="Loyc.Collections.ICharSource_map" name="Loyc.Collections.ICharSource_map">
<area href="interfaceLoyc_1_1Collections_1_1IListSource.html" alt="Loyc.Collections.IListSource&lt; char &gt;" shape="rect" coords="116,0,339,24"/>
<area href="classLoyc_1_1Syntax_1_1StreamCharSource.html" title="Exposes a stream as an ICharSource, as though it were an array of characters. The stream must support..." alt="Loyc.Syntax.StreamCharSource" shape="rect" coords="0,112,223,136"/>
<area href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange&lt;T&gt; of 21-bit UC..." alt="Loyc.UString" shape="rect" coords="233,112,456,136"/>
  </map>
</div></div>
<a name="details" id="details"></a><h2 class="groupheader">Remarks</h2>
<div class="textblock"><p>A read-only list of characters plus a <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a3b9800219b8e6e1e4ac0594cd8d09b64" title="Returns a substring from the character source. If some of the requested characters are past the end o...">Slice(int,int)</a> method. </p>
<p>To get an instance of this interface from a string, write <code>new StringSlice("string")</code> or <code>(<a class="el" href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange&lt;T&gt; of 21-bit UC...">UString</a>)"string"</code>. </p>
<p>This is the standard interface for lexers to use as a source of characters; is it defined in Loyc.Essentials rather than <a class="el" href="namespaceLoyc_1_1Syntax.html" title="Loyc.Syntax.dll: contains Loyc trees (Loyc.Syntax.LNode), lexing stuff, LLLPG base classes (BaseParse...">Loyc.Syntax</a> so that <a class="el" href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange&lt;T&gt; of 21-bit UC...">UString</a> can implement it, and because it might be useful in other contexts. </p>
<p>This interface was created to read characters more efficiently. Although a lexer could read characters one-at-a-time from IReadOnlyList{char} or <a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html" title="A read-only list indexed by an integer.">IListSource</a>{char}, it requires dynamic interface dispatch for every character. On the other hand, if lexers avoid this overhead by requiring the entire file in the form of a string, it becomes necessary to hold the entire file in memory at once, in a very specific format (a string). </p>
<p><a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a3b9800219b8e6e1e4ac0594cd8d09b64" title="Returns a substring from the character source. If some of the requested characters are past the end o...">Slice()</a> allows the lexer to request small pieces of the file that it can read without dynamic dispatch. Typically a lexer will be derived from <a class="el" href="classLoyc_1_1Syntax_1_1Lexing_1_1BaseLexer.html" title="The recommended base class for lexers generated by LLLPG, when not using the inputSource option.">Loyc.Syntax.Lexing.BaseLexer</a>, which requests somewhat small chunks; the <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html" title="A read-only list of characters plus a Slice(int,int) method.">ICharSource</a> implementation is is free to read larger blocks at once, since the return type, <a class="el" href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange&lt;T&gt; of 21-bit UC...">UString</a>, can be a slice of a larger string. </p>
<p>This interface provides good efficiency when reading from strings, or from data structures composed of large strings (most notably, this interface could efficiently return sections of a gap buffer), but unlike <a class="el" href="namespaceString.html">String</a> itself, it is flexible, and does not require the entire file to be held in memory as a single contiguous block. </p>
<p>It's unfortunate that .NET treats strings as something completely different than arrays. Otherwise, this interface could support not just substrings, but subarrays of any element type, which would be useful any time you want to optimize your code by reducing dynamic dispatch. </p>
<p>Note about Count: if <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html" title="A read-only list of characters plus a Slice(int,int) method.">ICharSource</a> represents to a file or other Stream, reading Count forces the entire stream to be scanned in order to determine the number of characters in the file (which may be different from the number of bytes). Rather than do a test like <code>if (index &gt;= charSource.Count)</code> it is better to use <code>if (Slice(index, 1).Count == 0)</code>, or better yet, <code>TryGet(index, out fail)</code>. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3b9800219b8e6e1e4ac0594cd8d09b64"><td class="memItemLeft" align="right" valign="top">new <a class="el" href="structLoyc_1_1UString.html">UString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a3b9800219b8e6e1e4ac0594cd8d09b64">Slice</a> (int startIndex, int length)</td></tr>
<tr class="memdesc:a3b9800219b8e6e1e4ac0594cd8d09b64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a substring from the character source. If some of the requested characters are past the end of the stream, the string is truncated to the available number of characters.  <a href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a3b9800219b8e6e1e4ac0594cd8d09b64">More...</a><br /></td></tr>
<tr class="separator:a3b9800219b8e6e1e4ac0594cd8d09b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_interfaceLoyc_1_1Collections_1_1IListSource')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html">Loyc.Collections.IListSource&lt; char &gt;</a></td></tr>
<tr class="memitem:a52cf4d93658771ea9539ed905d2d91bf inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceLoyc_1_1Collections_1_1IRange.html">IRange</a>&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html#a52cf4d93658771ea9539ed905d2d91bf">Slice</a> (int start, int count=int.MaxValue)</td></tr>
<tr class="memdesc:a52cf4d93658771ea9539ed905d2d91bf inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a sub-range of this list.  <a href="interfaceLoyc_1_1Collections_1_1IListSource.html#a52cf4d93658771ea9539ed905d2d91bf">More...</a><br /></td></tr>
<tr class="separator:a52cf4d93658771ea9539ed905d2d91bf inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3b9800219b8e6e1e4ac0594cd8d09b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b9800219b8e6e1e4ac0594cd8d09b64">&#9670;&nbsp;</a></span>Slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">new <a class="el" href="structLoyc_1_1UString.html">UString</a> Loyc.Collections.ICharSource.Slice </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>startIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a substring from the character source. If some of the requested characters are past the end of the stream, the string is truncated to the available number of characters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">startIndex</td><td>Index of first character to return. If startIndex &gt;= Count, an empty string is returned.</td></tr>
    <tr><td class="paramname">length</td><td>Number of characters desired.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentException</td><td>Thrown if startIndex or length are negative.</td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classLoyc_1_1Syntax_1_1StreamCharSource.html#a07020fc42ff6c2d83dc4f3ac79eaa194">Loyc.Syntax.StreamCharSource</a>, <a class="el" href="structLoyc_1_1UString.html#af50a5219815a755aa275a4b607f9f263">Loyc.UString</a>, and <a class="el" href="structLoyc_1_1UString.html#ac04687a61c925bc61476fb6c63f221f8">Loyc.UString</a>.</p>

<p class="reference">Referenced by <a class="el" href="structLoyc_1_1Syntax_1_1Lexing_1_1Token.html#a9ccc4fc99837b7ca9faf3d519d525551">Loyc.Syntax.Lexing.Token.SourceText()</a>, <a class="el" href="structLoyc_1_1Syntax_1_1Lexing_1_1Token.html#a595e70ac4bacf2dd9b356e4779464425">Loyc.Syntax.Lexing.Token.TextValue()</a>, <a class="el" href="classLoyc_1_1Syntax_1_1Les_1_1TokenExt.html#a5bcbf96ffc71bf60266f6db55b3fe9e2">Loyc.Syntax.Les.TokenExt.ToString()</a>, and <a class="el" href="classLoyc_1_1Ecs_1_1Parser_1_1TokenExt.html#aa29c00366c498b2f81cee2073eed70b4">Loyc.Ecs.Parser.TokenExt.ToString()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 22 2020 11:06:30 for Enhanced C# by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
