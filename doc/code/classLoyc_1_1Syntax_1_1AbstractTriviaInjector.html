<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>Enhanced C#: Loyc.Syntax.AbstractTriviaInjector&lt; Trivia &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Enhanced C#
   </div>
   <div id="projectbrief">Language of your choice: library documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceLoyc.html">Loyc</a></li><li class="navelem"><a class="el" href="namespaceLoyc_1_1Syntax.html">Syntax</a></li><li class="navelem"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">AbstractTriviaInjector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#properties">Properties</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Loyc.Syntax.AbstractTriviaInjector&lt; Trivia &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Encapsulates an algorithm that consumes trivia (comments and newlines) from a list and adds it as trivia attributes into LNodes.  
 <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#details">More...</a></p>
<hr/><b>Source file</b>:<ul>
<li><a href='https://github.com/qwertie/ecsharp/tree/master/Core/Loyc.Syntax/Parsing/AbstractTriviaInjector.cs'>/Core/Loyc.Syntax/Parsing/AbstractTriviaInjector.cs</a></li>
</ul>
<a name="details" id="details"></a><h2 class="groupheader">Remarks</h2>
<div class="textblock"><p>Encapsulates an algorithm that consumes trivia (comments and newlines) from a list and adds it as trivia attributes into LNodes. </p>
<p>Call <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752" title="Attaches trivia to the input nodes provided.">Run</a> to invoke the algorithm. One must also write a derived class that knows how to interpret the trivia and associate it with a specific <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html" title="All nodes in a Loyc syntax tree share this base class.">LNode</a>, or use the standard derived class <a class="el" href="classLoyc_1_1Syntax_1_1StandardTriviaInjector.html" title="Encapsulates an algorithm that consumes trivia (comments and newlines) from a list and adds it as tri...">StandardTriviaInjector</a>. </p>
<p>The algorithm is designed to postprocess output from a parser that works in a typical way. The lexer for your language needs to follow the following rules:</p>
<ul>
<li>
It must not include the newline character in the range of a single-line comment. </li>
<li>
Generally, newlines (including the newline after a single-line comment) should be included in the trivia list, as the algorithm relies on newline trivia to notice when a new line is starting. Notably, a comment/trivia right after a statement (e.g. on the same line) should normally be associated with that statement; if this class is unaware of the newline it will be associated with the next statement instead. </li>
</ul>
<p>Typically one will wrap the lexer in <a class="el" href="classLoyc_1_1Syntax_1_1Lexing_1_1TriviaSaver.html" title="A lexer wrapper that saves whitespace tokens into a list (TriviaList).">Lexing.TriviaSaver</a>, which saves trivia while filtering out whitespace so that the parser doesen't see it. </p>
<p>Your language's parser needs to follow the following rules:</p>
<ul>
<li>
The parser should assign minimal boundaries to each node: the <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html#a211792d5ca6f8214a7483152bae6f650" title="Returns the location and range in source code of this node.">LNode.Range</a> should not be wider than necessary. If there is a comment before an expression like <code>/* ! * / x + y</code>, the parser should not include the comment as part of the range unless it wants the comment to be associated with a child node (<code>x</code>) instead of with the entire expression (<code>x + y</code>). </li>
<li>
However, if a node has normal (non-trivia) attributes attached to it, the Range of the node must include those attributes. If your parser fails to do this, one symptom can be that a newline after an attribute "moves up" in the attribute list so it appears before the attribute. </li>
<li>
The parser should use LNodeFactory.InParens to place a node in parentheses and include the index of the opening and closing parens. </li>
<li>
If an expression/statement is terminated by a semicolon/comma, it's best (but not crucial) to include the semicolon/comma in the <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html#a211792d5ca6f8214a7483152bae6f650" title="Returns the location and range in source code of this node.">LNode.Range</a>, but if a statement is terminated by a newline, the newline should not be included in the range. If general, when the terminator is included in the range, then any comment that appears before the terminator is attached to the final child node rather than to the node as a whole. (e.g. in <code>x = y /*y* /;</code>, the comment is associated with <code>y</code> if the comment is within the range of the statement as a whole.) </li>
</ul>
<p>This example shows how comments are associated with nodes: [NOTE: the space in "* /" is a workaround for a serious bug in Doxygen, the html doc generator] </p><pre>
// Comment attached to block
{
  // Comment attached to Foo() call
  Foo(
    // Comment attached to «argument1 + 1». Note that the comma is 
    // generally invisible to the injector since it is not part of the <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html" title="All nodes in a Loyc syntax tree share this base class.">LNode</a> 
    // tree, so the 1st and 2nd comments will both be attached to the sum-
    // expression as a whole.
    argument1 + 1 /*1st comment* /, // 2nd comment
    // Comment attached to «argument2 + 2»
    argument2 + 2); // Comment attached to Foo() call
  Area = 3.14159265/*PI* /  *  /*radius* /r**2;
  // Comment attached to «Area =» statement, preceded by newline trivia?</pre><pre>  // Comment attached to Bar()
  @BarAttr // Comment attached to BarAttr attribute
  Bar();</pre><pre>  // Comment attached to Bar() because there are no statements afterward
}
</pre><p> When there is a single newline between two nodes, <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752" title="Attaches trivia to the input nodes provided.">Run</a> will associate it with the second one. When there is a blank line between two nodes (two newlines), the first newline (and any before) is associated with the first node and the second newline (and any following) is associated with the second. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ab5a7dddee267170e607cc8118128245e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html">IListSource</a>&lt; Trivia &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#ab5a7dddee267170e607cc8118128245e">SortedTrivia</a><code> [get, set]</code></td></tr>
<tr class="memdesc:ab5a7dddee267170e607cc8118128245e"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of trivia to be injected by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752" title="Attaches trivia to the input nodes provided.">Run</a>. Must be sorted.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#ab5a7dddee267170e607cc8118128245e">More...</a><br /></td></tr>
<tr class="separator:ab5a7dddee267170e607cc8118128245e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41bbc0ded28c1551c92654cbb2f052a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a41bbc0ded28c1551c92654cbb2f052a3">NextIndex</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a41bbc0ded28c1551c92654cbb2f052a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index of next trivia to be injected.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a41bbc0ded28c1551c92654cbb2f052a3">More...</a><br /></td></tr>
<tr class="separator:a41bbc0ded28c1551c92654cbb2f052a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a836be32377d9935ff0c98f2a024dfa5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a836be32377d9935ff0c98f2a024dfa5b">AbstractTriviaInjector</a> (<a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html">IListSource</a>&lt; Trivia &gt; sortedTrivia)</td></tr>
<tr class="memdesc:a836be32377d9935ff0c98f2a024dfa5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#ab5a7dddee267170e607cc8118128245e" title="List of trivia to be injected by Run. Must be sorted.">SortedTrivia</a> property.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a836be32377d9935ff0c98f2a024dfa5b">More...</a><br /></td></tr>
<tr class="separator:a836be32377d9935ff0c98f2a024dfa5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d088768a4d80c19dda40cf547ce752"><td class="memItemLeft" align="right" valign="top">IEnumerator&lt; <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752">Run</a> (IEnumerator&lt; <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> &gt; nodes)</td></tr>
<tr class="memdesc:aa8d088768a4d80c19dda40cf547ce752"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches trivia to the input nodes provided.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752">More...</a><br /></td></tr>
<tr class="separator:aa8d088768a4d80c19dda40cf547ce752"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af092a496fc6c3c24cbc5e5a304439784"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="structLoyc_1_1Syntax_1_1LNodeList.html">LNodeList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#af092a496fc6c3c24cbc5e5a304439784">GetTriviaToAttach</a> (<a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> node, <a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html">IListSource</a>&lt; Trivia &gt; trivia, TriviaLocation loc, <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> parent, int indexInParent)</td></tr>
<tr class="memdesc:af092a496fc6c3c24cbc5e5a304439784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derived class translates a list of trivia (tokens) into appropriate trivia attributes. This will be called for leading trivia before trailing trivia.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#af092a496fc6c3c24cbc5e5a304439784">More...</a><br /></td></tr>
<tr class="separator:af092a496fc6c3c24cbc5e5a304439784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16b9c17afc4f68f1017bd4ed13bf7aa8"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structLoyc_1_1void.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a16b9c17afc4f68f1017bd4ed13bf7aa8">ProcessChildrenOfOneLiner</a> (ref <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> node)</td></tr>
<tr class="memdesc:a16b9c17afc4f68f1017bd4ed13bf7aa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called when a node has no newlines or comments within it (although the node may still have a leading or trailing comment). The method should add appendStatement trivia inside blocks in the node, if necessary.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a16b9c17afc4f68f1017bd4ed13bf7aa8">More...</a><br /></td></tr>
<tr class="separator:a16b9c17afc4f68f1017bd4ed13bf7aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2351a0e69beee2926543292cd3c9420"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="structLoyc_1_1Syntax_1_1SourceRange.html">SourceRange</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#ae2351a0e69beee2926543292cd3c9420">GetRange</a> (Trivia trivia)</td></tr>
<tr class="memdesc:ae2351a0e69beee2926543292cd3c9420"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the <a class="el" href="structLoyc_1_1Syntax_1_1SourceRange.html" title="Holds a reference to a source file (ISourceFile&lt;char&gt;) and the beginning and end indices of a range i...">SourceRange</a> for an element of trivia.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#ae2351a0e69beee2926543292cd3c9420">More...</a><br /></td></tr>
<tr class="separator:ae2351a0e69beee2926543292cd3c9420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c14d23e73bf1bbc40b7364f22215945"><td class="memItemLeft" align="right" valign="top">abstract bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a0c14d23e73bf1bbc40b7364f22215945">IsNewline</a> (Trivia trivia)</td></tr>
<tr class="memdesc:a0c14d23e73bf1bbc40b7364f22215945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the trivia represents a newline, false otherwise.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a0c14d23e73bf1bbc40b7364f22215945">More...</a><br /></td></tr>
<tr class="separator:a0c14d23e73bf1bbc40b7364f22215945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b015c97075996b35b570b06d19bad0"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a48b015c97075996b35b570b06d19bad0">GetEmptyResultSet</a> ()</td></tr>
<tr class="memdesc:a48b015c97075996b35b570b06d19bad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A method called to create a virtual node, in order to apply trivia to a source file that is completely empty except for trivia.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a48b015c97075996b35b570b06d19bad0">More...</a><br /></td></tr>
<tr class="separator:a48b015c97075996b35b570b06d19bad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef2b702aae92ce221b24e9552c20d3fa"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aef2b702aae92ce221b24e9552c20d3fa">DoneAttaching</a> (<a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> node, <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> parent, int indexInParent)</td></tr>
<tr class="memdesc:aef2b702aae92ce221b24e9552c20d3fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called after a node has been processed and any applicable trivia was attached.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aef2b702aae92ce221b24e9552c20d3fa">More...</a><br /></td></tr>
<tr class="separator:aef2b702aae92ce221b24e9552c20d3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7109a7eb2172249ff4d5e2e41e55cc5b"><td class="memItemLeft" align="right" valign="top">IEnumerator&lt; <a class="el" href="classLoyc_1_1Pair.html">Pair</a>&lt; <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a7109a7eb2172249ff4d5e2e41e55cc5b">RunCore</a> (IEnumerator&lt; <a class="el" href="classLoyc_1_1Pair.html">Pair</a>&lt; <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>, int &gt;&gt; nodes, <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> parent)</td></tr>
<tr class="memdesc:a7109a7eb2172249ff4d5e2e41e55cc5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Core trivia associaton algorithm.  <a href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a7109a7eb2172249ff4d5e2e41e55cc5b">More...</a><br /></td></tr>
<tr class="separator:a7109a7eb2172249ff4d5e2e41e55cc5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a8f6706ab254c01c1eafef88d64eabfd2"><td class="memItemLeft" align="right" valign="top"><a id="a8f6706ab254c01c1eafef88d64eabfd2"></a>
static IEnumerator&lt; <a class="el" href="classLoyc_1_1Pair.html">Pair</a>&lt; T, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>WithIndexes&lt; T &gt;</b> (IEnumerator&lt; T &gt; e)</td></tr>
<tr class="separator:a8f6706ab254c01c1eafef88d64eabfd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a836be32377d9935ff0c98f2a024dfa5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a836be32377d9935ff0c98f2a024dfa5b">&#9670;&nbsp;</a></span>AbstractTriviaInjector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.<a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">AbstractTriviaInjector</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html">IListSource</a>&lt; Trivia &gt;&#160;</td>
          <td class="paramname"><em>sortedTrivia</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#ab5a7dddee267170e607cc8118128245e" title="List of trivia to be injected by Run. Must be sorted.">SortedTrivia</a> property. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aef2b702aae92ce221b24e9552c20d3fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef2b702aae92ce221b24e9552c20d3fa">&#9670;&nbsp;</a></span>DoneAttaching()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.DoneAttaching </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indexInParent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called after a node has been processed and any applicable trivia was attached. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node (after trivia attached)</td></tr>
    <tr><td class="paramname">parent</td><td>Parent of <code>node</code> (old version, before changes to children are applied)</td></tr>
    <tr><td class="paramname">indexInParent</td><td>Index of <code>node</code> within <code>parent</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Should return <code>node</code> or an altered version of <code>node</code>.</dd></dl>
<p>This method gives the derived class one final chance to rearrange or alter the interpretation of the attached trivia. Note that this method may be called on some nodes to which trivia was not attached, when siblings of the same parent had trivia attached. </p>

<p>Reimplemented in <a class="el" href="classLoyc_1_1Ecs_1_1Parser_1_1EcsTriviaInjector.html#a05046ea3b5b3fc26361e3dea02b04dd1">Loyc.Ecs.Parser.EcsTriviaInjector</a>.</p>

</div>
</div>
<a id="a48b015c97075996b35b570b06d19bad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b015c97075996b35b570b06d19bad0">&#9670;&nbsp;</a></span>GetEmptyResultSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.GetEmptyResultSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A method called to create a virtual node, in order to apply trivia to a source file that is completely empty except for trivia. </p>
<p>Default implementation attaches all trivia to a "missing" node (zero-length identifier). If this method returns null, the source file will truly be empty (containing no trivia either).</p>

<p class="reference">Referenced by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.Run()</a>.</p>

</div>
</div>
<a id="ae2351a0e69beee2926543292cd3c9420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2351a0e69beee2926543292cd3c9420">&#9670;&nbsp;</a></span>GetRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract <a class="el" href="structLoyc_1_1Syntax_1_1SourceRange.html">SourceRange</a> <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.GetRange </td>
          <td>(</td>
          <td class="paramtype">Trivia&#160;</td>
          <td class="paramname"><em>trivia</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the <a class="el" href="structLoyc_1_1Syntax_1_1SourceRange.html" title="Holds a reference to a source file (ISourceFile&lt;char&gt;) and the beginning and end indices of a range i...">SourceRange</a> for an element of trivia. </p>

<p class="reference">Referenced by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a48b015c97075996b35b570b06d19bad0">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.GetEmptyResultSet()</a>.</p>

</div>
</div>
<a id="af092a496fc6c3c24cbc5e5a304439784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af092a496fc6c3c24cbc5e5a304439784">&#9670;&nbsp;</a></span>GetTriviaToAttach()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract <a class="el" href="structLoyc_1_1Syntax_1_1LNodeList.html">LNodeList</a> <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.GetTriviaToAttach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html">IListSource</a>&lt; Trivia &gt;&#160;</td>
          <td class="paramname"><em>trivia</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TriviaLocation&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indexInParent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Derived class translates a list of trivia (tokens) into appropriate trivia attributes. This will be called for leading trivia before trailing trivia. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The node.</td></tr>
    <tr><td class="paramname">trivia</td><td>Trivia to be associated with <code>node</code>.</td></tr>
    <tr><td class="paramname">loc</td><td>Location of the trivia. For a given node, the base class calls this method at most once for each value of TriviaLocation. </td></tr>
    <tr><td class="paramname">parent</td><td>(Original version of) parent of <code>node</code>.</td></tr>
    <tr><td class="paramname">indexInParent</td><td>Index of <code>node</code> within <code>parent</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list of trivia attributes that should be attached to the node.</dd></dl>
<p>This method will be called for a node when there is no trivia associated with that node; the derived class may, for example, want to add <code>appendStatement</code> in certain cases.</p>

<p class="reference">Referenced by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a7109a7eb2172249ff4d5e2e41e55cc5b">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.RunCore()</a>.</p>

</div>
</div>
<a id="a0c14d23e73bf1bbc40b7364f22215945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c14d23e73bf1bbc40b7364f22215945">&#9670;&nbsp;</a></span>IsNewline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract bool <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.IsNewline </td>
          <td>(</td>
          <td class="paramtype">Trivia&#160;</td>
          <td class="paramname"><em>trivia</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the trivia represents a newline, false otherwise. </p>

<p class="reference">Referenced by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a7109a7eb2172249ff4d5e2e41e55cc5b">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.RunCore()</a>.</p>

</div>
</div>
<a id="a16b9c17afc4f68f1017bd4ed13bf7aa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16b9c17afc4f68f1017bd4ed13bf7aa8">&#9670;&nbsp;</a></span>ProcessChildrenOfOneLiner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="structLoyc_1_1void.html">void</a> <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.ProcessChildrenOfOneLiner </td>
          <td>(</td>
          <td class="paramtype">ref <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called when a node has no newlines or comments within it (although the node may still have a leading or trailing comment). The method should add appendStatement trivia inside blocks in the node, if necessary. </p>

<p class="reference">Referenced by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a16b9c17afc4f68f1017bd4ed13bf7aa8">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.ProcessChildrenOfOneLiner()</a>, and <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a7109a7eb2172249ff4d5e2e41e55cc5b">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.RunCore()</a>.</p>

</div>
</div>
<a id="aa8d088768a4d80c19dda40cf547ce752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8d088768a4d80c19dda40cf547ce752">&#9670;&nbsp;</a></span>Run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IEnumerator&lt;<a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>&gt; <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.Run </td>
          <td>(</td>
          <td class="paramtype">IEnumerator&lt; <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a> &gt;&#160;</td>
          <td class="paramname"><em>nodes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attaches trivia to the input nodes provided. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nodes</td><td>List of input nodes. This method calls nodes.MoveNext() before calling nodes.Current.</td></tr>
  </table>
  </dd>
</dl>
<p>Trailing trivia after all nodes is attached to the final node. If <code>nodes</code> is empty then <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a48b015c97075996b35b570b06d19bad0" title="A method called to create a virtual node, in order to apply trivia to a source file that is completel...">GetEmptyResultSet</a> is called to create a dummy node and attach all trivia to it.</p>

</div>
</div>
<a id="a7109a7eb2172249ff4d5e2e41e55cc5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7109a7eb2172249ff4d5e2e41e55cc5b">&#9670;&nbsp;</a></span>RunCore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IEnumerator&lt;<a class="el" href="classLoyc_1_1Pair.html">Pair</a>&lt;<a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>, int&gt; &gt; <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.RunCore </td>
          <td>(</td>
          <td class="paramtype">IEnumerator&lt; <a class="el" href="classLoyc_1_1Pair.html">Pair</a>&lt; <a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>, int &gt;&gt;&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLoyc_1_1Syntax_1_1LNode.html">LNode</a>&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Core trivia associaton algorithm. </p>
<p>NOTE: the enumerator may DRIVE lexing and actually cause the trivia list (SortedTrivia) to increase in size. For this reason, this algorithm is careful to call nodes.MoveNext() BEFORE getting the current trivia. I'm not sure if this precaution is sufficient to preserve trivia in all "streaming" cases, but it has worked fine up to now. </p>

<p class="reference">Referenced by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.Run()</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="a41bbc0ded28c1551c92654cbb2f052a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41bbc0ded28c1551c92654cbb2f052a3">&#9670;&nbsp;</a></span>NextIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.NextIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Index of next trivia to be injected. </p>

<p class="reference">Referenced by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.Run()</a>.</p>

</div>
</div>
<a id="ab5a7dddee267170e607cc8118128245e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a7dddee267170e607cc8118128245e">&#9670;&nbsp;</a></span>SortedTrivia</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource.html">IListSource</a>&lt;Trivia&gt; <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html">Loyc.Syntax.AbstractTriviaInjector</a>&lt; Trivia &gt;.SortedTrivia</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of trivia to be injected by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752" title="Attaches trivia to the input nodes provided.">Run</a>. Must be sorted. </p>

<p class="reference">Referenced by <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a836be32377d9935ff0c98f2a024dfa5b">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.AbstractTriviaInjector()</a>, <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#a48b015c97075996b35b570b06d19bad0">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.GetEmptyResultSet()</a>, and <a class="el" href="classLoyc_1_1Syntax_1_1AbstractTriviaInjector.html#aa8d088768a4d80c19dda40cf547ce752">Loyc.Syntax.AbstractTriviaInjector&lt; Token &gt;.Run()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 22 2020 11:06:33 for Enhanced C# by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
